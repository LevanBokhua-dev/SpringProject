<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="#{title.welcome}">Welcome User</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <style>
        .welcome-box {
            text-align: center;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            margin: 100px auto;
            width: 400px;
        }
        .lang-switch {
            margin-top: 20px;
        }
        .lang-switch a {
            margin: 0 10px;
            text-decoration: none;
            color: #4CAF50;
            font-weight: bold;
        }
    </style>
</head>
<body>
<div class="welcome-box">
    <h2><span th:text="#{welcome.user} "></span><span th:text="${name}">User</span> üëã</h2>
    <p th:text="#{login.success}">You have successfully logged in.</p>

    <a href="/todo/list">
        <button style="padding: 10px 20px; font-size: 16px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer;">
            <span th:text="#{button.todo}">Go to Todo List</span>
        </button>
    </a>

    <div class="lang-switch">
        <a th:href="@{${currentUrl}(lang='ka')}">·É•·Éê·É†·Éó·É£·Éö·Éò</a> |
        <a th:href="@{${currentUrl}(lang='en')}">English</a> |
        <a th:href="@{${currentUrl}(lang='fr')}">French</a>
    </div>

    <!-- ‚úÖ MOOD FORM -->
    <form th:action="@{/login/set-mood}" method="post" style="margin-top: 30px;">
        <label for="mood" style="display: block; margin-bottom: 10px; font-weight: bold;" th:text="#{mood.label}">Set your mood today üòä:</label>
        <input type="text" id="mood" name="mood"
               th:placeholder="#{mood.placeholder}"
               required
               style="padding: 10px; width: 80%; max-width: 280px; margin: 0 auto 15px; display: block;" />
        <button type="submit"
                style="display: block; margin: 0 auto; padding: 10px 20px; background-color: #4285F4; color: white; border: none; border-radius: 5px; cursor: pointer;"
                th:text="#{mood.button}">Save
        </button>
    </form>

    <!-- ‚úÖ MOOD DISPLAY -->
    <div th:if="${mood}" style="margin-top: 20px;">
        <strong th:text="#{mood.display}">Your mood today:</strong> <span th:text="${mood}"></span>
    </div>
</div>
</body>
</html>
